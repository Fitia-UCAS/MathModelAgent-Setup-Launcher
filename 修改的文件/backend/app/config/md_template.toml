firstPage = """
# 标题  
基于全文取一个标题  
（例子：老城街区“平移置换”:居民搬迁多目标优化模型与决策探讨）  

## 摘要  

**第一段：背景**  
介绍研究的背景与总体目标。  

**第二段：问题一**  
根据问题一回答，说明使用了什么模型，如何构建，做了什么工作，得到了什么结果（包含具体数值或实验结果）。  

**第三段：问题二**  
根据问题二回答，说明使用了什么模型，如何构建，做了什么工作，得到了什么结果。  

**第四段：问题三**  
根据问题三回答，说明使用了什么模型，如何构建，做了什么工作，得到了什么结果。  

**第五段：问题四**  
根据问题四回答，说明使用了什么模型，如何构建，做了什么工作，得到了什么结果。  

**第六段：…**  
如果有更多问题，按上面格式继续撰写。  

**最后一段：总结与敏感性分析**  
总结整体研究的创新性、模型有效性与推广价值，简述敏感性分析结果。  

注意：每段都是按段落撰写，不要分点叙述。  

## 关键词  
选取论文中涉及的模型与方法（4–6 个），如：优化模型、图像识别、线性规划、随机森林、敏感性分析、决策支持系统。  

{问题}

{模型的建立与求解}
"""





RepeatQues = """
# 一、问题重述
## 1.1 问题背景
查询文献
根据题目总结问题背景（查询文献）
格式：一段话
大约250-300字
## 1.2 问题重述
参考模板如下
本文基于以上信息建立数学模型来解决以下问题。
分点叙述

**参考下面的题目要求和问题，按照上面模板和要求完成 **问题重述中的问题背景和问题重述**

{题目}
"""





analysisQues = """
## 问题分析

（要求：分四个部分，问题一～四，每部分至少两段，合计 800–1000 字，段落化描述，不得写成列表。）

### 对于问题一的分析
问题一通常要求对题目背景和提供的数据进行理解与整理。首先，需要明确题目的研究目标和约束条件，厘清核心矛盾或关键需求。其次，对数据进行初步分析与处理，识别其中的主要特征、潜在规律以及可能存在的问题。通过这一过程，可以形成对问题的整体认知，并为后续建模奠定基础。  

此外，还需要结合题目背景，思考哪些因素对问题结果有决定性影响，哪些属于辅助性条件。在此过程中，可以通过合理的逻辑推理与数据探索，初步划定可行的解题范围和方向。

### 对于问题二的分析
问题二往往在问题一的基础上提出更深入的要求。此时需要在已建立的基本框架下，进一步明确目标，并考虑如何在不同约束下实现平衡。关键在于识别问题的多维属性，即不同因素之间可能存在的冲突、协同或权衡关系。  

在具体分析时，需要明确输入与输出之间的逻辑关系，确保所构建的思路能够满足题目的核心要求。同时，还要考虑结果的合理性和可解释性，使方案不仅在理论上成立，也能够在实际情境下具备应用价值。

### 对于问题三的分析
问题三通常涉及对已有方案的拓展与深入研究。重点在于分析问题在不同条件或参数变化下的表现，以及识别可能存在的临界点或敏感区间。通过对比和推演，可以观察系统在不同情境下的变化趋势，判断其稳定性与可靠性。  

这一过程不仅有助于发现模型的优缺点，也能揭示潜在的改进方向。如果条件允许，还可以对关键因素进行扰动测试，以评估方案在复杂情况下的适应能力，从而为决策提供更有力的支持。

### 对于问题四的分析
问题四往往要求从整体层面考虑模型或方案的应用与推广。分析重点在于如何将前面的问题有机结合，形成一个系统化的框架，使其能够在实际中发挥作用。该框架需要涵盖输入、处理与输出的完整流程，并保证具有可操作性和可扩展性。  

同时，还需关注结果的直观呈现和用户的理解成本。通过合理的结构设计和输出形式，可以提升方案的解释力和适用性，从而实现从理论到实践的转化，为后续应用提供坚实的支撑。

{模型的建立与求解}

{题目}
"""





modelAssumption = """
## 模型假设

请根据题目内容与建模需要，撰写 **4–5 条完整的模型假设**。  
每条假设都需要包含两部分：  
1. **假设本身**：清晰说明假设内容；  
2. **合理性说明**：解释该假设的来源或依据，以及它在模型构建中的意义。  

要求每条假设写成 **完整的学术段落**，避免仅用一句话。文字长度尽量在 **120–150 字** 左右，确保充分展开。  

示例写法如下（仅供参考，不要照抄）：  

**假设 1**：地块分类与房屋颜色一致。在图像处理阶段，居住房屋和空闲房屋的颜色区分明确，分别对应深红色和浅红色区域。所有房屋的颜色在模型求解过程中保持稳定，不会随时间发生变化。  
**合理性**：这一假设基于图像预处理的稳定性。颜色是房屋使用状态的直接表征（居住或空置），在短期研究周期内不会发生变化，因此能够保证模型提取的图像特征与实际情况相符。  

**假设 2**：地块面积与采光分数在建模周期内保持不变。  
**合理性**：假设基于长期调研与实测数据，地块的物理面积和朝向决定的采光分数在短期内稳定不变。此假设保证了补偿计算的一致性，避免因随机波动导致的参数不确定性。  

请在撰写时保证：  
- 假设条目不少于 3 条，最多 5 条；  
- 每条都包含“假设 + 合理性”；  
- 使用学术论文的段落风格撰写。  


{模型的建立与求解}

{题目}
"""





symbol = """
## 符号说明和数据预处理

在数学建模论文中，符号说明和数据预处理部分是衔接题目背景与模型建立的重要环节。  
请撰写时遵循以下要求：  
1. **符号说明**：必须以表格形式呈现，涵盖核心变量、参数和决策变量，并给出清晰含义；  
2. **数据预处理**：需要单独写一段文字，描述原始数据的清洗、缺失值处理、异常值检测，以及如何标准化/归一化以保证模型可用；  
3. 字数控制在 **800 字** 左右，既有表格又有说明。  

### 符号说明  

参考结构如下（可根据具体题目扩展或替换）：  

| 符号                  | 含义                                                         |
| --------------------- | ------------------------------------------------------------ |
| $x_{i}$              | 决策变量 $i$，表示某对象是否被选择或某资源的分配量           |
| $y_{j}$              | 状态变量 $j$，用于表示系统在某一阶段或某一方案下的状态       |
| $p_{k}$              | 参数 $k$，题目中给定的固定值，例如容量、成本、权重等         |
| $c_{i}$              | 与变量 $i$ 相关的成本或代价                                  |
| $v_{i}$              | 与变量 $i$ 相关的效益或价值                                  |
| $d_{ij}$             | 对象 $i$ 与对象 $j$ 之间的关系度量（如距离、相似度、相关性） |
| $\\alpha,\\beta,\\gamma$ | 调节系数或权重参数，用于平衡不同目标或约束                 |
| $Z$                  | 目标函数值，表示整体优化目标（如效益最大化、成本最小化等）   |
| $m$                  | 性能指标或评价指标，例如效率、性价比或误差率                 |

### 数据预处理  

在数据预处理环节，需要详细说明如何将原始数据转化为可直接建模使用的形式。常见的步骤包括：  

1. **数据完整性检查**：检测原始数据中的缺失值与异常值，并明确处理方式，如均值填充、插值、删除或修正。  
2. **变量标准化与归一化**：对量纲不同的连续变量进行处理，避免因尺度差异影响模型的稳定性与公平性。  
3. **类别变量处理**：将分类型变量（如颜色、等级、地区）转化为可计算的数值形式，如独热编码或等级赋值。  
4. **时间序列与空间数据处理**：若数据涉及时间或空间维度，应说明如何进行特征提取与转换（如提取趋势、周期、坐标信息）。  
5. **特征构造与筛选**：基于题目背景提取衍生变量（如比率、差值、组合指标），并通过相关性或重要性分析筛选关键特征。  
6. **数据存储与调用**：说明如何保存清洗与转换后的数据（如 CSV/Excel/数据库），保证后续建模过程的可重复性与可追溯性。  

### 附录：常见变量类型参考表  

| 变量类型          | 常用符号示例              | 通用含义说明                                               |
| ----------------- | ------------------------- | ---------------------------------------------------------- |
| **决策变量**      | $x_{i}, x_{ij}, y_{k}$   | 需要优化或选择的变量，用于描述资源分配、方案选择等决策结果 |
| **参数**          | $p_{k}, c_{i}, v_{i}$    | 已知且固定的数值，通常来自题目条件或数据输入               |
| **中间变量**      | $s_{t}, z_{ij}, h_{i}$   | 计算过程中产生的过渡量或辅助量，用于刻画系统运行状态       |
| **目标函数值**    | $Z, Z_{1}, Z_{2}$        | 整体优化目标或多目标情境下的分目标函数值                   |
| **评价指标**      | $m, L, R^{2}$            | 模型性能或结果评估指标，如效率、误差率、拟合优度等         |

{模型的建立与求解} 
"""





eda = """
## 数据预处理（EDA）

### 描述性统计与探索性分析

请结合提供的数据集进行探索性数据分析，正文不少于 600 字，建议 600-800 字之间。  
写作时要求采用自然段展开，每段围绕一个主题进行阐述，并在正文中合理插入图表引用。避免使用分点列举。  

参考写作结构如下：  

**第一段：总体分布**  
介绍数据集的整体规模与基本结构，例如样本数量、变量数量、变量类型（数值型/分类型/时序型/空间型）。  
说明是否存在缺失值或异常值，并解释处理策略。结合直方图、箱线图等描述数值变量的分布特征，报告均值、中位数、方差以及可能存在的偏态或长尾分布，帮助读者理解数据的整体情况。  

**第二段：类别与分布特征**  
对分类型或分组变量进行统计描述，结合条形图或饼图展示类别之间的数量差异与比例结构。  
进一步探讨这些分类信息与研究目标之间可能存在的差异或潜在联系，指出某些类别变量对建模可能产生的影响或价值。  

**第三段：变量之间的关系**  
分析数值变量之间的相关性，利用相关系数矩阵或热力图展示主要特征间的相关关系，并结合散点图对显著关系进行说明。  
指出哪些变量之间存在较强的相关性，哪些特征可能存在多重共线性问题，并讨论其对后续建模可能带来的影响（如需正则化或降维）。  

**第四段：特征价值与潜在改进**  
结合上述探索，归纳哪些变量对研究目标或预测任务最有价值，哪些变量可能需要进行标准化、归一化、降维或剔除。  
讨论是否存在衍生变量构造的可能性，例如比率、差值或组合指标，并说明这些处理可能对模型性能的提升有何启发。  

**第五段：小结**  
整体评价数据质量与可用性，强调经过清洗、标准化和探索性分析后，数据已经具备进入建模环节的条件。总结探索过程对后续特征工程与模型选择的启发。  

注意：  
1. 每段必须配合相应的可视化图表引用（直方图、箱线图、条形图、散点图、相关性热力图等），并附上文字解释。  
2. 全文需保持 600-800 字，避免过短或仅罗列图表而缺乏解释。  

### 附录：常见 EDA 可视化方法参考表  

| 数据类型       | 常用图表                                | 典型用途                           |
| -------------- | --------------------------------------- | ---------------------------------- |
| 数值型变量     | 直方图、箱线图、小提琴图、KDE 曲线      | 分布特征、异常值、集中趋势         |
| 分类型变量     | 条形图、堆叠条形图、饼图、马赛克图      | 类别比例、类别间差异、变量关系     |
| 变量之间关系   | 散点图、相关性热力图、散点矩阵图        | 两两相关性、多变量模式识别         |
| 时间序列数据   | 折线图、季节分解图、ACF/PACF 图         | 趋势、周期性、相关性分析           |
| 空间型数据     | 地图热力图、气泡地图、地理分布图        | 空间分布规律、热点识别             |
| 高维数据       | PCA 可视化、t-SNE、UMAP、平行坐标图、雷达图 | 降维、聚类、特征模式对比           |
| 分布比较       | QQ 图、累积分布函数（CDF）、双变量分布图 | 分布检验、差异分析                 |
"""





ques1 = """模板和要求如下
### 问题：xxx 的模型建立与求解

#### 解题思路
（要求：写 300–400 字，至少 3 段，自然段叙述，不要使用条目列表。）

在这一部分，首先需要阐明问题的核心目标。可能是最小化某种成本、最大化某种效益、预测未来趋势，或通过数学方程刻画系统运行规律。必须将题目背景抽象成一个数学化的问题，使其具备可计算性和逻辑清晰性。  

其次，需要说明数据来源与结构，包括变量维度、数据规模、数值型与分类型的比例，以及可能存在的时间或空间特征。如果数据存在缺失与噪声，则需提出处理方法，并说明其对建模的影响。  

最后，需要提出总体的建模思路。例如，若题目关注资源配置，可抽象为优化问题；若题目强调规律推导，可抽象为方程组；若题目涉及预测，则可抽象为统计模型或机器学习框架。最后一句自然引入：“接下来对问题进行具体的数学建模。”

#### 模型建立
（要求：写 600–800 字，3–4 段，必须包含大量公式，尽量插入图表。）

为了形成一个完整的统一模型，我们将公式放在一个大括号中展示如下。这里我给出三个版本，供对比：  

**版本 A：外层大括号（统一包裹）**

$$
\\left\\{
\\begin{aligned}
& Z = \\max \\sum_{i=1}^n v_i x_i \\\\
& \\text{s.t. } \\sum_{i=1}^n c_i x_i \\leq C \\\\
& \\sum_{j=1}^m x_{ij} = 1, \\quad \\forall i \\\\
& x_{ij} \\in \\{0,1\\}, \\quad \\forall i,j \\\\
& y_t = \\alpha y_{t-1} + \\beta x_t + \\epsilon_t \\\\
& \\frac{dS}{dt} = -\\beta S I, \\quad \\frac{dI}{dt} = \\beta S I - \\gamma I \\\\
& L(\\theta) = \\sum_{i=1}^n (y_i - \\hat{y}_i)^2 \\\\
& P(A|B) = \\frac{P(B|A) P(A)}{P(B)} \\\\
& \\min f(x) = \\|Ax - b\\|_2^2 + \\lambda \\|x\\|_1 \\\\
& m = \\frac{\\Delta \\text{效益}}{\\Delta \\text{成本}} \\\\
& u_{t+1} = u_t + \\Delta t \\cdot f(u_t, t)
\\end{aligned}
\\right.
$$

**版本 B：外层 + 内层（嵌套 SIR 模型）**

$$
\\left\\{
\\begin{aligned}
& Z = \\max \\sum_{i=1}^n v_i x_i \\\\
& \\text{s.t. } \\sum_{i=1}^n c_i x_i \\leq C \\\\
& \\sum_{j=1}^m x_{ij} = 1, \\quad \\forall i \\\\
& x_{ij} \\in \\{0,1\\}, \\quad \\forall i,j \\\\
& y_t = \\alpha y_{t-1} + \\beta x_t + \\epsilon_t \\\\
& 
\\left\\{
\\begin{aligned}
& \\frac{dS}{dt} = -\\beta S I, \\\\
& \\frac{dI}{dt} = \\beta S I - \\gamma I
\\end{aligned}
\\right. \\\\
& L(\\theta) = \\sum_{i=1}^n (y_i - \\hat{y}_i)^2 \\\\
& P(A|B) = \\frac{P(B|A) P(A)}{P(B)} \\\\
& \\min f(x) = \\|Ax - b\\|_2^2 + \\lambda \\|x\\|_1 \\\\
& m = \\frac{\\Delta \\text{效益}}{\\Delta \\text{成本}} \\\\
& u_{t+1} = u_t + \\Delta t \\cdot f(u_t, t)
\\end{aligned}
\\right.
$$

**版本 C：多处嵌套（优化组 + SIR 模型 + 稀疏回归组）**

$$
\\left\\{
\\begin{aligned}
& 
\\left\\{
\\begin{aligned}
& Z = \\max \\sum_{i=1}^n v_i x_i \\\\
& \\text{s.t. } \\sum_{i=1}^n c_i x_i \\leq C \\\\
& \\sum_{j=1}^m x_{ij} = 1, \\quad \\forall i \\\\
& x_{ij} \\in \\{0,1\\}, \\quad \\forall i,j
\\end{aligned}
\\right. \\\\
& y_t = \\alpha y_{t-1} + \\beta x_t + \\epsilon_t \\\\
& y_{t+1} = \\phi y_t + \\eta_t \\\\
& 
\\left\\{
\\begin{aligned}
& \\frac{dS}{dt} = -\\beta S I, \\\\
& \\frac{dI}{dt} = \\beta S I - \\gamma I, \\\\
& \\frac{dR}{dt} = \\gamma I
\\end{aligned}
\\right. \\\\
& L(\\theta) = \\sum_{i=1}^n (y_i - \\hat{y}_i)^2 \\\\
& R^2 = 1 - \\frac{\\sum (y_i - \\hat{y}_i)^2}{\\sum (y_i - \\bar{y})^2} \\\\
& P(A|B) = \\frac{P(B|A) P(A)}{P(B)} \\\\
& E[X] = \\sum_{i=1}^n x_i p_i, \\quad Var(X) = E[X^2] - (E[X])^2 \\\\
& 
\\left\\{
\\begin{aligned}
& \\min f(x) = \\|Ax - b\\|_2^2 + \\lambda \\|x\\|_1 \\\\
& \\hat{w} = \\arg\\min_w \\; \\frac{1}{2} \\|Xw - y\\|_2^2 + \\alpha \\|w\\|_2^2
\\end{aligned}
\\right. \\\\
& m = \\frac{\\Delta \\text{效益}}{\\Delta \\text{成本}} \\\\
& u_{t+1} = u_t + \\Delta t \\cdot f(u_t, t) \\\\
& \\nabla J(\\theta) = \\frac{1}{m} \\sum_{i=1}^m (h_\\theta(x^{(i)}) - y^{(i)}) x^{(i)} \\\\
& \\pi(a|s) = \\frac{e^{Q(s,a)}}{\\sum_{a'} e^{Q(s,a')}} \\\\
& H(p) = -\\sum_i p_i \\log p_i
\\end{aligned}
\\right.
$$

这里给出的三个版本展示了不同层次的大括号组织方式：版本 A 结构最简洁，版本 B 增强了局部组的表达，版本 C 则模块化更强，适合写复杂的统一模型。

#### 模型的求解
（要求：写 600-800 字，2–3 段。）

在模型求解环节，需要说明模型被转化成了哪一类问题。例如，优化模型可能是线性规划或非线性规划；微分方程模型可能需要数值解；统计模型可能需要参数估计。  

其次，需要介绍所采用的求解方法。可以是精确算法（如单纯形法、动态规划）、数值方法（如 Euler 或 Runge-Kutta）、统计推断（如极大似然估计）、或机器学习算法（如梯度下降、集成学习）。求解工具可选择 Python（SciPy、PyTorch）、MATLAB、Gurobi 等。  

最后，需要说明输出结果的形式。可以是数值表格、趋势曲线、仿真图像或最优解方案，并结合实际意义进行解释。例如“图2：不同参数下的解曲线”或“表1：最优分配方案”。

#### 模型检验
（要求：写 300–400 字，2 段以上。）

在模型检验阶段，需要从两个角度展开：  
一是**敏感性分析**。通过调整关键参数或输入，观察模型输出的变化，从而判断模型的鲁棒性。例如：  

$$
\\biggl\\{ 
\\begin{aligned}
& m(\\delta) = \\frac{f(x+\\delta) - f(x)}{\\delta} \\\\
& \\Delta Z = Z(\\theta + \\epsilon) - Z(\\theta)
\\end{aligned}
\\biggr.
$$

二是**合理性分析**。讨论结果是否符合实际背景与逻辑常识，假设是否过于理想化，是否存在过拟合或欠拟合风险，是否能够推广到其他情境。  

综上，问题1的模型能够在满足题目条件的前提下，给出系统的数学刻画与合理的计算结果，为后续问题的深入研究提供坚实支撑。
"""






ques2 = """模板和要求如下
### 问题2：xxx 的模型建立与求解

#### 解题思路
（300–400 字，至少 3 段，自然段叙述，不要使用条目列表。）

在这一部分，首先需要说明问题的核心目标，结合题目背景解释为什么要建立这个模型。如果问题2与问题1存在联系，需要点明这种继承关系，例如“在问题1得到的可行域基础上，本题进一步考虑多目标优化”或“结合前一问题的约束结果，扩展至更复杂的情境”。如果两者无关，则单独叙述即可。  

其次，说明输入数据的来源和结构。例如，附件提供的原始数据、变量维度、连续变量与分类变量、可能的时间序列或空间信息。需要指出是否需要对数据进一步清洗或预处理。  

最后，提出总体建模思路。可以是优化类模型（目标函数 + 约束条件）、机理类模型（方程推导）、预测类模型（回归、分类、机器学习）等。最后一句自然引出“接下来建立具体模型”。

#### 模型建立
（600–800 字，3–4 段，必须包含公式，尽量插入图表。）

为了表明这是一个完整的模型，我们将公式集中在一个大括号中展示如下。这里同样给出三个版本：  

**版本 A：外层大括号（统一包裹）**

$$
\\left\\{
\\begin{aligned}
& Z = \\min \\sum_{i=1}^n c_i x_i \\\\
& \\text{s.t. } \\sum_{i=1}^n a_{ij} x_i \\geq b_j, \\quad \\forall j \\\\
& x_i \\geq 0, \\quad x_i \\in \\mathbb{Z}, \\quad \\forall i \\\\
& y_t = \\alpha y_{t-1} + \\beta x_t + \\epsilon_t \\\\
& \\frac{dX}{dt} = f(X,t), \\quad X(0) = X_0 \\\\
& L(\\theta) = \\sum_{i=1}^n (y_i - \\hat{y}_i)^2 + \\lambda \\|\\theta\\|_1 \\\\
& P(E) = 1 - e^{-\\lambda t} \\\\
& m = \\frac{\\Delta U}{\\Delta C}
\\end{aligned}
\\right.
$$

**版本 B：外层 + 内层（嵌套动力学模型）**

$$
\\left\\{
\\begin{aligned}
& Z = \\min \\sum_{i=1}^n c_i x_i \\\\
& \\text{s.t. } \\sum_{i=1}^n a_{ij} x_i \\geq b_j, \\quad \\forall j \\\\
& x_i \\geq 0, \\quad x_i \\in \\mathbb{Z}, \\quad \\forall i \\\\
& y_t = \\alpha y_{t-1} + \\beta x_t + \\epsilon_t \\\\
& 
\\left\\{
\\begin{aligned}
& \\frac{dX}{dt} = f(X,t), \\\\
& X(0) = X_0
\\end{aligned}
\\right. \\\\
& L(\\theta) = \\sum_{i=1}^n (y_i - \\hat{y}_i)^2 + \\lambda \\|\\theta\\|_1 \\\\
& P(E) = 1 - e^{-\\lambda t} \\\\
& m = \\frac{\\Delta U}{\\Delta C}
\\end{aligned}
\\right.
$$

**版本 C：多处嵌套（优化组 + 动力学模型 + 概率统计组）**

$$
\\left\\{
\\begin{aligned}
& 
\\left\\{
\\begin{aligned}
& Z = \\min \\sum_{i=1}^n c_i x_i \\\\
& \\text{s.t. } \\sum_{i=1}^n a_{ij} x_i \\geq b_j, \\quad \\forall j \\\\
& x_i \\geq 0, \\quad x_i \\in \\mathbb{Z}, \\quad \\forall i
\\end{aligned}
\\right. \\\\
& y_t = \\alpha y_{t-1} + \\beta x_t + \\epsilon_t \\\\
& y_{t+1} = \\phi y_t + \\eta_t \\\\
& 
\\left\\{
\\begin{aligned}
& \\frac{dX}{dt} = f(X,t), \\\\
& X(0) = X_0
\\end{aligned}
\\right. \\\\
& L(\\theta) = \\sum_{i=1}^n (y_i - \\hat{y}_i)^2 + \\lambda \\|\\theta\\|_1 \\\\
& R^2 = 1 - \\frac{\\sum (y_i - \\hat{y}_i)^2}{\\sum (y_i - \\bar{y})^2} \\\\
& P(E) = 1 - e^{-\\lambda t} \\\\
& E[X] = \\sum_{i=1}^n x_i p_i, \\quad Var(X) = E[X^2] - (E[X])^2 \\\\
& 
\\left\\{
\\begin{aligned}
& \\min f(x) = \\|Ax - b\\|_2^2 + \\lambda \\|x\\|_1 \\\\
& \\hat{w} = \\arg\\min_w \\; \\frac{1}{2} \\|Xw - y\\|_2^2 + \\alpha \\|w\\|_2^2
\\end{aligned}
\\right. \\\\
& m = \\frac{\\Delta U}{\\Delta C} \\\\
& H(p) = -\\sum_i p_i \\log p_i
\\end{aligned}
\\right.
$$

这里的三个版本与问题1保持一致风格：版本 A 最简洁，版本 B 展示了内层约束，版本 C 最复杂，整合了优化、动力学、概率与统计等模块。

#### 模型的求解
（600-800 字，2–3 段。）

首先，说明该模型在数学上的转化形式。例如，是线性规划、非线性规划、整数规划、微分方程数值解，还是预测模型。  

其次，介绍所采用的求解方法/算法，并说明理由。可以是确定性算法（如单纯形法）、数值方法（如 Euler、Runge-Kutta）、统计估计（如最小二乘、最大似然）、或机器学习算法（如梯度下降、随机森林）。  

最后，说明实现方式（工具、软件、代码思路），以及输出结果的表现形式（表格、可视化图表、结论），并联系题意解释结果的实际意义。

#### 模型检验
（300–400 字，2 段以上。）

第一部分是**敏感性分析**，通过调整关键参数或输入，观察结果变化，评估模型的鲁棒性。例如：  

$$
\\biggl\\{
\\begin{aligned}
& m(\\delta) = \\frac{f(x+\\delta) - f(x)}{\\delta} \\\\
& \\Delta Z = Z(\\theta+\\epsilon) - Z(\\theta)
\\end{aligned}
\\biggr.
$$  

第二部分是**合理性分析**，说明结果是否符合题意与常识，假设条件是否合理，模型是否存在过拟合或局限性，并结合背景讨论可推广性。  

最后总结：综上，问题2的模型能够在满足条件的前提下，得到合理的数学结果，并为后续问题提供支撑。
"""





ques3 = """模板和要求如下
### 问题3：xxx 的模型建立与求解

#### 解题思路
（300–400 字，至少 3 段，自然段叙述，不要使用条目列表。）

首先，需要明确问题3的核心目标。若问题3与前两个问题存在联系，应当指出承接关系，例如“在问题2的优化结果基础上，进一步考虑动态因素”或“结合前一问题的约束条件，扩展为多阶段建模”。若没有直接关系，则单独从题目背景出发，阐述研究意义。  

其次，说明输入数据的来源与结构，包括变量数量、类型（数值型、分类型、时序型、空间型）、维度，以及约束条件。必要时说明数据是否需要预处理（缺失值处理、归一化、离散化）。  

最后，提出总体建模思路。可能是优化模型（目标函数+约束条件）、预测模型（统计/机器学习）、机理模型（方程组/动力学建模）或仿真模拟方法。最后一句自然引出：“接下来建立具体模型。”

#### 模型建立
（600–800 字，3–4 段，必须包含公式，尽量插入图表。）

为了展示完整的建模形式，这里同样给出三种版本：  

**版本 A：外层大括号（统一包裹）**

$$
\\left\\{
\\begin{aligned}
& Z = \\max \\sum_{i=1}^n v_i x_i \\\\
& \\text{s.t. } \\sum_{i=1}^n c_i x_i \\leq C \\\\
& \\sum_{j=1}^m x_{ij} = 1, \\quad \\forall i \\\\
& x_{ij} \\in \\{0,1\\}, \\quad \\forall i,j \\\\
& y_t = \\alpha y_{t-1} + \\beta x_t + \\epsilon_t \\\\
& \\frac{dX}{dt} = f(X,t), \\quad X(0) = X_0 \\\\
& L(\\theta) = \\sum_{i=1}^n (y_i - \\hat{y}_i)^2 + \\lambda \\|\\theta\\|_1 \\\\
& P(E) = 1 - e^{-\\lambda t} \\\\
& m = \\frac{\\Delta U}{\\Delta C} \\\\
& u_{t+1} = u_t + \\Delta t \\cdot f(u_t, t)
\\end{aligned}
\\right.
$$

**版本 B：外层 + 内层（嵌套动力学模型）**

$$
\\left\\{
\\begin{aligned}
& Z = \\max \\sum_{i=1}^n v_i x_i \\\\
& \\text{s.t. } \\sum_{i=1}^n c_i x_i \\leq C \\\\
& \\sum_{j=1}^m x_{ij} = 1, \\quad \\forall i \\\\
& x_{ij} \\in \\{0,1\\}, \\quad \\forall i,j \\\\
& y_t = \\alpha y_{t-1} + \\beta x_t + \\epsilon_t \\\\
& 
\\left\\{
\\begin{aligned}
& \\frac{dX}{dt} = f(X,t), \\\\
& X(0) = X_0
\\end{aligned}
\\right. \\\\
& L(\\theta) = \\sum_{i=1}^n (y_i - \\hat{y}_i)^2 + \\lambda \\|\\theta\\|_1 \\\\
& P(E) = 1 - e^{-\\lambda t} \\\\
& m = \\frac{\\Delta U}{\\Delta C} \\\\
& u_{t+1} = u_t + \\Delta t \\cdot f(u_t, t)
\\end{aligned}
\\right.
$$

**版本 C：多处嵌套（优化组 + 动力学模型 + 预测组）**

$$
\\left\\{
\\begin{aligned}
& 
\\left\\{
\\begin{aligned}
& Z = \\max \\sum_{i=1}^n v_i x_i \\\\
& \\text{s.t. } \\sum_{i=1}^n c_i x_i \\leq C \\\\
& \\sum_{j=1}^m x_{ij} = 1, \\quad \\forall i \\\\
& x_{ij} \\in \\{0,1\\}, \\quad \\forall i,j
\\end{aligned}
\\right. \\\\
& y_t = \\alpha y_{t-1} + \\beta x_t + \\epsilon_t \\\\
& y_{t+1} = \\phi y_t + \\eta_t \\\\
& 
\\left\\{
\\begin{aligned}
& \\frac{dX}{dt} = f(X,t), \\\\
& X(0) = X_0
\\end{aligned}
\\right. \\\\
& L(\\theta) = \\sum_{i=1}^n (y_i - \\hat{y}_i)^2 + \\lambda \\|\\theta\\|_1 \\\\
& R^2 = 1 - \\frac{\\sum (y_i - \\hat{y}_i)^2}{\\sum (y_i - \\bar{y})^2} \\\\
& P(E) = 1 - e^{-\\lambda t} \\\\
& E[X] = \\sum_{i=1}^n x_i p_i, \\quad Var(X) = E[X^2] - (E[X])^2 \\\\
& 
\\left\\{
\\begin{aligned}
& \\min f(x) = \\|Ax - b\\|_2^2 + \\lambda \\|x\\|_1 \\\\
& \\hat{w} = \\arg\\min_w \\; \\frac{1}{2} \\|Xw - y\\|_2^2 + \\alpha \\|w\\|_2^2
\\end{aligned}
\\right. \\\\
& m = \\frac{\\Delta U}{\\Delta C} \\\\
& u_{t+1} = u_t + \\Delta t \\cdot f(u_t, t)
\\end{aligned}
\\right.
$$

三个版本展示了不同复杂度的模型组织方式：版本 A 简洁统一，版本 B 突出内层结构，版本 C 模块化最强，适合复杂建模场景。

#### 模型的求解
（600-800 字，2–3 段。）

首先，说明模型最终被转化成哪一类问题（如线性/非线性规划、整数规划、动力学方程组、预测模型等）。  

其次，介绍所采用的求解方法，并说明选择原因。可以是解析解法、数值方法（Euler、Runge-Kutta）、优化算法（单纯形法、动态规划）、统计推断（最小二乘、极大似然）、或机器学习方法（梯度下降、神经网络）。  

最后，说明实现方式（Python、MATLAB、Gurobi 等工具）和输出结果的形式（表格、图表、趋势曲线、关键数值结论）。

#### 模型检验
（300–400 字，2 段以上。）

第一段：敏感性分析。通过调整关键参数或初始条件，观察结果变化，检验模型的鲁棒性。例如：  

$$
\\biggl\\{
\\begin{aligned}
& m(\\delta) = \\frac{f(x+\\delta) - f(x)}{\\delta} \\\\
& \\Delta Z = Z(\\theta+\\epsilon) - Z(\\theta)
\\end{aligned}
\\biggr.
$$  

第二段：合理性分析。讨论结果是否符合实际背景与逻辑常识，假设是否合理，模型是否过拟合或欠拟合，并说明适用范围和推广价值。  

最后一句总结：综上，问题3的模型能够在满足题目条件的前提下，给出合理的数学结果，并为后续研究提供支撑。
"""




ques4 = """模板和要求如下
### 问题4：xxx 的模型建立与求解

#### 解题思路
（300–400 字，至少 3 段，自然段叙述，不要使用条目列表。）

首先，需要明确问题4的研究目标。如果问题4与前三个问题存在逻辑延续，应当指出其承接关系，例如“在问题3的动态模型基础上，引入随机扰动因素”或“结合前述约束条件，扩展为多目标随机优化”。若没有直接关系，则独立说明问题背景与研究意义。  

其次，需要介绍输入数据的来源与结构。包括变量的数量与类型（连续、离散、时序、空间）、维度以及是否涉及多阶段数据。还需说明是否需要数据清洗、特征工程或归一化。  

最后，提出总体建模思路。可以是随机优化模型、鲁棒优化模型、动力学系统、预测模拟等。最后一句自然引出：“接下来建立具体模型。”

#### 模型建立
（600–800 字，3–4 段，必须包含公式，尽量插入图表。）

为了展示完整的建模形式，这里同样给出三种版本：  

**版本 A：外层大括号（统一包裹）**

$$
\\left\\{
\\begin{aligned}
& Z = \\min \\sum_{i=1}^n c_i x_i \\\\
& \\text{s.t. } \\sum_{i=1}^n a_{ij} x_i \\geq b_j, \\quad \\forall j \\\\
& x_i \\geq 0, \\quad x_i \\in \\mathbb{Z}, \\quad \\forall i \\\\
& y_t = \\rho y_{t-1} + \\beta x_t + \\epsilon_t \\\\
& \\frac{dX}{dt} = f(X,t), \\quad X(0) = X_0 \\\\
& L(\\theta) = \\sum_{i=1}^n (y_i - \\hat{y}_i)^2 + \\lambda \\|\\theta\\|_2^2 \\\\
& P(E) = 1 - e^{-\\lambda t} \\\\
& U = \\sum_{i=1}^n u_i x_i \\\\
& m = \\frac{\\Delta U}{\\Delta C}
\\end{aligned}
\\right.
$$

**版本 B：外层 + 内层（嵌套动力学或随机模型）**

$$
\\left\\{
\\begin{aligned}
& Z = \\min \\sum_{i=1}^n c_i x_i \\\\
& \\text{s.t. } \\sum_{i=1}^n a_{ij} x_i \\geq b_j, \\quad \\forall j \\\\
& x_i \\geq 0, \\quad x_i \\in \\mathbb{Z}, \\quad \\forall i \\\\
& y_t = \\rho y_{t-1} + \\beta x_t + \\epsilon_t \\\\
& 
\\left\\{
\\begin{aligned}
& \\frac{dX}{dt} = f(X,t) + \\sigma W_t, \\\\
& X(0) = X_0
\\end{aligned}
\\right. \\\\
& L(\\theta) = \\sum_{i=1}^n (y_i - \\hat{y}_i)^2 + \\lambda \\|\\theta\\|_2^2 \\\\
& P(E) = 1 - e^{-\\lambda t} \\\\
& U = \\sum_{i=1}^n u_i x_i \\\\
& m = \\frac{\\Delta U}{\\Delta C}
\\end{aligned}
\\right.
$$

**版本 C：多处嵌套（优化组 + 随机动力学模型 + 统计学习组）**

$$
\\left\\{
\\begin{aligned}
& 
\\left\\{
\\begin{aligned}
& Z = \\min \\sum_{i=1}^n c_i x_i \\\\
& \\text{s.t. } \\sum_{i=1}^n a_{ij} x_i \\geq b_j, \\quad \\forall j \\\\
& x_i \\geq 0, \\quad x_i \\in \\mathbb{Z}, \\quad \\forall i
\\end{aligned}
\\right. \\\\
& y_t = \\rho y_{t-1} + \\beta x_t + \\epsilon_t \\\\
& y_{t+1} = \\phi y_t + \\eta_t \\\\
& 
\\left\\{
\\begin{aligned}
& \\frac{dX}{dt} = f(X,t) + \\sigma W_t, \\\\
& X(0) = X_0
\\end{aligned}
\\right. \\\\
& L(\\theta) = \\sum_{i=1}^n (y_i - \\hat{y}_i)^2 + \\lambda \\|\\theta\\|_1 \\\\
& R^2 = 1 - \\frac{\\sum (y_i - \\hat{y}_i)^2}{\\sum (y_i - \\bar{y})^2} \\\\
& P(E) = 1 - e^{-\\lambda t} \\\\
& E[X] = \\sum_{i=1}^n x_i p_i, \\quad Var(X) = E[X^2] - (E[X])^2 \\\\
& 
\\left\\{
\\begin{aligned}
& \\min f(x) = \\|Ax - b\\|_2^2 + \\lambda \\|x\\|_1 \\\\
& \\hat{w} = \\arg\\min_w \\; \\frac{1}{2} \\|Xw - y\\|_2^2 + \\alpha \\|w\\|_2^2
\\end{aligned}
\\right. \\\\
& m = \\frac{\\Delta U}{\\Delta C} \\\\
& H(p) = -\\sum_i p_i \\log p_i
\\end{aligned}
\\right.
$$

三个版本展示了不同复杂度的模型组织方式：版本 A 简单清晰，版本 B 适合强调局部动力学或随机扰动，版本 C 模块化最强，整合了优化、随机过程与统计学习。

#### 模型的求解
（600-800 字，2–3 段。）

首先，说明该模型最终被转化成哪一类问题（如整数规划、随机优化、随机微分方程数值解、统计学习等）。  

其次，介绍所采用的求解方法，并说明选择原因。可能包括：确定性算法（单纯形法、分支定界）、数值方法（Euler-Maruyama、Runge-Kutta）、机器学习方法（梯度下降、神经网络）、或者混合算法。  

最后，说明实现方式（Python、MATLAB、Gurobi 等工具）和输出结果的表现形式（表格、曲线、可视化图形），并结合题意解释其意义。

#### 模型检验
（300–400 字，2 段以上。）

第一部分：敏感性分析。通过调整关键参数或随机扰动强度，观察结果变化，检验模型鲁棒性。例如：  

$$
\\biggl\\{
\\begin{aligned}
& m(\\delta) = \\frac{f(x+\\delta) - f(x)}{\\delta} \\\\
& \\Delta Z = Z(\\theta+\\epsilon) - Z(\\theta)
\\end{aligned}
\\biggr.
$$  

第二部分：合理性分析。讨论结果是否符合实际逻辑与背景，假设条件是否合理，模型是否可能过拟合或局限，是否具备推广价值。  

最后总结：综上，问题4的模型能够在满足条件的前提下，得到合理的数学结果，并为后续问题提供支撑。
"""





ques5 = """模板和要求如下
### 问题5：xxx 的模型建立与求解

#### 解题思路
（300–400 字，至少 3 段，自然段叙述，不要使用条目列表。）

首先，需要明确问题5的核心目标。如果问题5与前面的问题存在承接关系，应指出这种联系，例如“在问题4的系统模型基础上进一步推广”，或者“结合前几问的约束条件，扩展至多目标情境”。若问题5独立，则单独从题目背景出发说明意义。  

其次，说明输入数据的来源与结构，包括变量类型（数值、分类型、时序、空间）、维度规模，以及题目中给定的约束条件。若数据需预处理（缺失值、归一化、特征提取），需加以说明。  

最后，提出总体建模思路。可以是优化模型、预测模型、动力学模型，或是多因素耦合模型。最后一句自然引出：“接下来建立具体模型。”

#### 模型建立
（600–800 字，3–4 段，必须包含公式，尽量插入图表。）

这里同样给出三个版本，展示不同层次的模型组织方式：  

**版本 A：外层大括号（统一包裹）**

$$
\\left\\{
\\begin{aligned}
& Z = \\max \\sum_{i=1}^n v_i x_i \\\\
& \\text{s.t. } \\sum_{i=1}^n c_i x_i \\leq C \\\\
& \\sum_{j=1}^m x_{ij} = 1, \\quad \\forall i \\\\
& x_{ij} \\in \\{0,1\\}, \\quad \\forall i,j \\\\
& y_t = \\alpha y_{t-1} + \\beta x_t + \\epsilon_t \\\\
& \\frac{dX}{dt} = f(X,t), \\quad X(0) = X_0 \\\\
& L(\\theta) = \\sum_{i=1}^n (y_i - \\hat{y}_i)^2 + \\lambda \\|\\theta\\|_1 \\\\
& P(E) = 1 - e^{-\\lambda t} \\\\
& m = \\frac{\\Delta U}{\\Delta C} \\\\
& u_{t+1} = u_t + \\Delta t \\cdot f(u_t,t)
\\end{aligned}
\\right.
$$

**版本 B：外层 + 内层（嵌套动力学模型）**

$$
\\left\\{
\\begin{aligned}
& Z = \\max \\sum_{i=1}^n v_i x_i \\\\
& \\text{s.t. } \\sum_{i=1}^n c_i x_i \\leq C \\\\
& \\sum_{j=1}^m x_{ij} = 1, \\quad \\forall i \\\\
& x_{ij} \\in \\{0,1\\}, \\quad \\forall i,j \\\\
& y_t = \\alpha y_{t-1} + \\beta x_t + \\epsilon_t \\\\
& 
\\left\\{
\\begin{aligned}
& \\frac{dX}{dt} = f(X,t), \\\\
& X(0) = X_0
\\end{aligned}
\\right. \\\\
& L(\\theta) = \\sum_{i=1}^n (y_i - \\hat{y}_i)^2 + \\lambda \\|\\theta\\|_1 \\\\
& P(E) = 1 - e^{-\\lambda t} \\\\
& m = \\frac{\\Delta U}{\\Delta C}
\\end{aligned}
\\right.
$$

**版本 C：多处嵌套（优化组 + 动力学 + 统计组）**

$$
\\left\\{
\\begin{aligned}
& 
\\left\\{
\\begin{aligned}
& Z = \\max \\sum_{i=1}^n v_i x_i \\\\
& \\text{s.t. } \\sum_{i=1}^n c_i x_i \\leq C \\\\
& \\sum_{j=1}^m x_{ij} = 1, \\quad \\forall i \\\\
& x_{ij} \\in \\{0,1\\}, \\quad \\forall i,j
\\end{aligned}
\\right. \\\\
& y_t = \\alpha y_{t-1} + \\beta x_t + \\epsilon_t \\\\
& y_{t+1} = \\phi y_t + \\eta_t \\\\
& 
\\left\\{
\\begin{aligned}
& \\frac{dX}{dt} = f(X,t), \\\\
& X(0) = X_0
\\end{aligned}
\\right. \\\\
& L(\\theta) = \\sum_{i=1}^n (y_i - \\hat{y}_i)^2 + \\lambda \\|\\theta\\|_1 \\\\
& R^2 = 1 - \\frac{\\sum (y_i - \\hat{y}_i)^2}{\\sum (y_i - \\bar{y})^2} \\\\
& P(E) = 1 - e^{-\\lambda t} \\\\
& E[X] = \\sum_{i=1}^n x_i p_i, \\quad Var(X) = E[X^2] - (E[X])^2 \\\\
& m = \\frac{\\Delta U}{\\Delta C}, \\quad H(p) = -\\sum_i p_i \\log p_i
\\end{aligned}
\\right.
$$

三个版本分别展示：A 简洁统一，B 强调动力学嵌套，C 模块化最强，结合优化、预测与统计。

#### 模型的求解
（600–800 字，2–3 段。）

说明模型转化后的数学形式（线性/非线性规划、动力学方程、统计回归等），说明选择的算法方法及理由，并描述实现方式（Python、MATLAB、Gurobi 等）。最后结合题目解释结果意义。

#### 模型检验
（300–400 字，2 段以上。）

敏感性分析与合理性分析，方法与前几问一致，保证鲁棒性与合理性。
"""





ques6 = """模板和要求如下
### 问题6：xxx 的模型建立与求解

## 整体建模思路与五问衔接

在数学建模竞赛中，问题六若存在，往往是对前面模型的进一步推广，既可能是跨场景应用，也可能是复杂系统的深度扩展。本节需要说明如何在论文写作中体现“深化—扩展—推广”的逻辑。

#### 解题思路
（300–400 字，至少 3 段，自然段叙述，不要使用条目列表。）

首先，需要明确问题6的核心目标。若与前面问题存在承接关系，应在此指出，例如“在问题5的模型推广基础上，本题进一步探讨更复杂的情境”，或者“结合前几问的约束和结论，本题引入新的决策维度”。若本问独立，则直接从题目背景出发，解释其建模价值与实际意义。  

其次，说明输入数据的来源与结构。包括数据类型（数值、分类、时序、空间）、变量数量与维度规模，以及是否存在缺失值、异常值或噪声。必要时需说明预处理操作（归一化、标准化、特征筛选），确保数据适合建模。  

最后，提出总体建模思路。可以是优化模型（目标函数+约束条件）、预测模型（回归、分类、时间序列）、机理建模（微分方程、概率模型），或者前几问的集成与扩展。最后一句自然引出：“接下来建立具体模型。”

#### 模型建立
（600–800 字，3–4 段，必须包含公式，尽量插入图表。）

为了展示完整的建模形式，这里同样给出三种版本：

**版本 A：外层大括号（统一包裹）**

$$
\\left\\{
\\begin{aligned}
& Z = \\min \\sum_{i=1}^n c_i x_i \\\\
& \\text{s.t. } \\sum_{i=1}^n a_{ij} x_i \\geq b_j, \\quad \\forall j \\\\
& x_i \\geq 0, \\quad x_i \\in \\mathbb{Z}, \\quad \\forall i \\\\
& y_t = \\alpha y_{t-1} + \\beta x_t + \\epsilon_t \\\\
& \\frac{dX}{dt} = f(X,t), \\quad X(0) = X_0 \\\\
& L(\\theta) = \\sum_{i=1}^n (y_i - \\hat{y}_i)^2 + \\lambda \\|\\theta\\|_1 \\\\
& P(E) = 1 - e^{-\\lambda t} \\\\
& m = \\frac{\\Delta U}{\\Delta C} \\\\
& u_{t+1} = u_t + \\Delta t \\cdot f(u_t, t)
\\end{aligned}
\\right.
$$

**版本 B：外层 + 内层（嵌套动力学或随机过程）**

$$
\\left\\{
\\begin{aligned}
& Z = \\min \\sum_{i=1}^n c_i x_i \\\\
& \\text{s.t. } \\sum_{i=1}^n a_{ij} x_i \\geq b_j, \\quad \\forall j \\\\
& x_i \\geq 0, \\quad x_i \\in \\mathbb{Z}, \\quad \\forall i \\\\
& y_t = \\alpha y_{t-1} + \\beta x_t + \\epsilon_t \\\\
& 
\\left\\{
\\begin{aligned}
& \\frac{dX}{dt} = f(X,t) + \\sigma W_t, \\\\
& X(0) = X_0
\\end{aligned}
\\right. \\\\
& L(\\theta) = \\sum_{i=1}^n (y_i - \\hat{y}_i)^2 + \\lambda \\|\\theta\\|_1 \\\\
& P(E) = 1 - e^{-\\lambda t} \\\\
& m = \\frac{\\Delta U}{\\Delta C}
\\end{aligned}
\\right.
$$

**版本 C：多处嵌套（优化组 + 动力学组 + 统计学习组）**

$$
\\left\\{
\\begin{aligned}
& 
\\left\\{
\\begin{aligned}
& Z = \\min \\sum_{i=1}^n c_i x_i \\\\
& \\text{s.t. } \\sum_{i=1}^n a_{ij} x_i \\geq b_j, \\quad \\forall j \\\\
& x_i \\geq 0, \\quad x_i \\in \\mathbb{Z}, \\quad \\forall i
\\end{aligned}
\\right. \\\\
& y_t = \\alpha y_{t-1} + \\beta x_t + \\epsilon_t \\\\
& y_{t+1} = \\phi y_t + \\eta_t \\\\
& 
\\left\\{
\\begin{aligned}
& \\frac{dX}{dt} = f(X,t) + \\sigma W_t, \\\\
& X(0) = X_0
\\end{aligned}
\\right. \\\\
& L(\\theta) = \\sum_{i=1}^n (y_i - \\hat{y}_i)^2 + \\lambda \\|\\theta\\|_1 \\\\
& R^2 = 1 - \\frac{\\sum (y_i - \\hat{y}_i)^2}{\\sum (y_i - \\bar{y})^2} \\\\
& P(E) = 1 - e^{-\\lambda t} \\\\
& E[X] = \\sum_{i=1}^n x_i p_i, \\quad Var(X) = E[X^2] - (E[X])^2 \\\\
& m = \\frac{\\Delta U}{\\Delta C}, \\quad H(p) = -\\sum_i p_i \\log p_i
\\end{aligned}
\\right.
$$

三个版本分别展示：A 简洁统一，B 适合强调随机扰动或动力学，C 模块化最强，整合优化、动力学与统计学习。

#### 模型的求解
（600–800 字，2–3 段。）

说明该模型转化的数学形式，介绍采用的求解方法（解析解、数值解、优化算法、统计推断、机器学习等），并解释原因。描述实现方式（Python、MATLAB、Gurobi 等）和结果形式（表格、图形、曲线），结合题意进行解释。

#### 模型检验
（300–400 字，2 段以上。）

第一段：敏感性分析。例如：  

$$
\\biggl\\{
\\begin{aligned}
& m(\\delta) = \\frac{f(x+\\delta) - f(x)}{\\delta} \\\\
& \\Delta Z = Z(\\theta+\\epsilon) - Z(\\theta)
\\end{aligned}
\\biggr.
$$  

第二段：合理性分析。说明模型结果是否符合逻辑，假设是否合理，模型是否存在过拟合或欠拟合，并结合场景讨论推广性。  

最后总结：综上，问题6的模型能够在满足题目条件的前提下，给出合理的数学结果，并为整体问题的完整解答提供有力支撑。
"""





sensitivity_analysis = """参考模板
## 模型的分析与检验

### 灵敏度分析
在灵敏度分析部分，需要探讨模型结果对关键参数变动的敏感程度。常见的敏感性参数包括：成本上限、收益系数、资源供给量、概率阈值或居民接受标准等。具体做法是分别增加或减少这些参数的一定比例，观察目标函数值、约束可行域以及最终决策方案的变化趋势。若模型解在小范围扰动下发生较大变化，则说明模型敏感性较强，需要在参数设定时更加谨慎；若结果相对稳定，则表明模型具有较好的鲁棒性。  

为便于量化，可引入灵敏度系数 $m$ 及其他评价指标。这里给出三种版本的公式展示：

**版本 A：外层大括号（统一包裹）**

$$
\\left\\{
\\begin{aligned}
& m = \\frac{\\Delta F}{\\Delta P} \\\\
& S_i = \\frac{\\partial F}{\\partial p_i} , \\quad i=1,2,\\dots,n \\\\
& \\eta = \\frac{F(p+\\delta) - F(p)}{F(p)} \\\\
& R = \\frac{\\max(F) - \\min(F)}{\\bar{F}} \\\\
& CV = \\frac{\\sigma(F)}{\\mu(F)}
\\end{aligned}
\\right.
$$  

**版本 B：外层 + 内层（分组嵌套）**

$$
\\left\\{
\\begin{aligned}
& m = \\frac{\\Delta F}{\\Delta P}, \\quad 
S_i = \\frac{\\partial F}{\\partial p_i} \\\\
& 
\\left\\{
\\begin{aligned}
& \\eta = \\frac{F(p+\\delta) - F(p)}{F(p)}, \\\\
& R = \\frac{\\max(F) - \\min(F)}{\\bar{F}}
\\end{aligned}
\\right. \\\\
& CV = \\frac{\\sigma(F)}{\\mu(F)}
\\end{aligned}
\\right.
$$  

**版本 C：多处嵌套（敏感性指标 + 稳定性指标 + 波动性指标）**

$$
\\left\\{
\\begin{aligned}
& 
\\left\\{
\\begin{aligned}
& m = \\frac{\\Delta F}{\\Delta P} \\\\
& S_i = \\frac{\\partial F}{\\partial p_i}
\\end{aligned}
\\right. \\\\
& 
\\left\\{
\\begin{aligned}
& \\eta = \\frac{F(p+\\delta) - F(p)}{F(p)} \\\\
& R = \\frac{\\max(F) - \\min(F)}{\\bar{F}}
\\end{aligned}
\\right. \\\\
& CV = \\frac{\\sigma(F)}{\\mu(F)}, \\quad 
H(F) = -\\sum_i p_i \\log p_i
\\end{aligned}
\\right.
$$  

三个版本分别对应：A 简洁整体，B 分组清晰，C 模块化最强并加入信息熵指标 $H(F)$，以增强鲁棒性分析的深度。  

其中，$F$ 表示目标函数值，$p_i$ 为关键参数，$\\delta$ 为扰动项，$\\mu(F)$ 与 $\\sigma(F)$ 分别为结果的均值与标准差。通过这些指标，可以从不同角度刻画模型对参数变化的敏感性和稳定性。

### 合理性分析
在合理性分析部分，需要结合题目背景与现实常识对模型结果进行验证。若模型在满足成本约束的情况下仍能保证较高收益，且迁移数量或资源分配结果具有合理的空间布局与逻辑性，则说明结果具备现实可行性。同时，要检查参数设定是否在合理区间，例如补偿阈值是否符合常识、收益预测是否与历史数据一致、边际效益是否符合递减规律。  

此外，还应结合可解释性进行讨论。如果模型解存在极端解（如单一对象占用大量资源），则需说明原因，判断是否为模型假设过于理想化所致。合理性分析不仅帮助发现模型的适用范围，还能为后续改进提供方向。  

### 总结
综上，灵敏度分析可以揭示模型在参数扰动下的稳健性，而合理性分析可以确保结果符合题意与常识。本模型在满足约束条件的前提下，既能通过灵敏度检验保证稳定性，又能通过合理性分析确保结果的解释性与现实意义，从而为后续问题的求解与推广应用提供可靠支撑。
"""





judge = """参考模板和要求
## 模型的评价、改进与推广

### 模型的优点
本模型的首要优点在于它能够对复杂的实际问题进行合理抽象，从而将现实情境转化为数学语言。无论是优化类问题、预测类问题还是机理推导类问题，该模型均能通过清晰的符号定义和合理的假设条件建立起逻辑自洽的框架。这样的结构使模型不仅具备严谨性，也具备较强的可解释性。  

其次，模型在处理多维度目标时具有较好的扩展性。通过目标函数、约束条件或方程系统的有机组合，模型能够同时兼顾核心目标和次要目标，实现对问题的全面刻画。同时，模型设计过程中保留了一定的灵活性，可以根据不同场景灵活调整参数与权重，从而提升适用性。  

此外，模型结果往往可以通过数值实验、仿真模拟或可视化图表加以验证，这一过程不仅增强了模型的直观性，也提升了对非专业人士的解释力。综合来看，模型在逻辑严谨性、结构完整性、可扩展性和可解释性方面均具备明显优势。

### 模型的缺点
尽管模型具有一定的完整性，但仍不可避免地存在一些不足。其一，模型的部分参数设定可能依赖经验或人为假设，存在一定主观性，从而影响结果的客观性。其二，在面对复杂的非线性关系或高维数据时，模型可能需要进行简化或近似处理，这会导致部分结果精度下降。  

其三，当数据规模过大或约束条件过于复杂时，模型的计算复杂度可能显著提升，求解效率降低。最后，模型在面对不确定性、噪声数据或动态环境时，鲁棒性与适应性可能不足，这在实际应用中会成为局限性。

### 模型的改进与推广
针对上述不足，可以从以下几个方面进行改进。首先，在参数设定方面，可以结合敏感性分析、鲁棒优化或机器学习方法对参数进行自动化校准，以减少主观性影响并提高稳健性。其次，在方法层面，可以尝试引入非线性优化、随机模拟、动态规划、数值解法或智能算法，以提升模型对复杂系统的刻画能力与求解效率。再次，在数据处理上，可以通过特征选择、降维、正则化等手段，增强模型在高维或大规模数据下的稳定性。  

在推广方面，该模型的建模思想和方法不仅适用于当前问题，还可以迁移至其他领域。例如，优化类模型可应用于资源调度、供应链管理和城市规划；预测类模型可推广至经济预测、疾病预测或环境监测；机理类模型则可用于动力学系统分析、传染病传播建模等。随着计算能力和数据获取方式的提升，模型还可以嵌入决策支持系统，实现自动化分析和可视化展示，从而在更广泛的应用场景中发挥作用。  

综上，本模型在理论严谨性和应用可行性上均具有价值，但仍需在参数客观性、复杂性处理和鲁棒性方面不断改进。通过方法拓展和场景推广，模型能够为不同领域的复杂问题提供更具实用性的解决方案。
"""
